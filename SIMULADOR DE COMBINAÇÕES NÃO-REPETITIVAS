#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <time.h>

#define S  100000

int main(){
	srand(time(NULL));
	int n;
	
	do
	{
	
		printf("Digite um número qualquer: ");
		scanf(" %d", &n);
	
		int conj[n];
		int cont = 0, test = 1;
	
		for (int i = 0; i < S; i++)
		{	
			for (int j = 0; j < n; j++)
			{
				if (!test)
				{
					test = 1;	
					break;
				}		
				conj[j] = rand() % (n*2);
				for (int k = j - 1; k >= 0; k--)
					if (conj[j] == conj[k] && k > -1)
					{
						cont++;
						test = 0;
						break;
					}						
			}
		}

		if (!n)
		{
			system("clear");
			printf("Parte 1 finalizada!\n");
			break;
		}	
	
		float perc = ((float)(S - cont) * 100) / S;
	
		printf("Total de conjuntos não repetitivos formados por %d números: %f%%\n\n", n, perc); 
	
	} while (1);
	
	int l;
		
	printf("\nDigite outro número qualquer para prosseguir: ");
	scanf(" %d", &l);
	n = 1;	
	do
	{
	
		int conj[n];
		int cont = 0, test = 1;
	
		for (int i = 0; i < S; i++)
		{	
			for (int j = 0; j < n; j++)
			{
				if (!test)
				{
					test = 1;	
					break;
				}		
				conj[j] = rand() % (n*2);
				for (int k = j - 1; k >= 0; k--)
					if (conj[j] == conj[k] && k > -1)
					{
						cont++;
						test = 0;
						break;
					}						
			}
		}

		if (n > l)
		{
			printf("\nPrograma finalizado!\n");
			break;
		}	
	
		float perc = ((float)(S - cont) * 100) / S;
	
		printf("\nTotal de conjuntos não repetitivos formados por %d números: %f%%", n, perc); 
		n++;
	} while (1);	
	
	return 0;
}

